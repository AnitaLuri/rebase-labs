<head>
  <link rel="stylesheet" type="text" href="style.css"></link>
  <title>Rebase Labs</title>
</head>
<body>
  <h2>Rebase Labs</h2>
  <table class="table table-striped" id="table">
    <thead class="table" id="table-head">
      <tr class="my-3">
        <th scope="col">Número de Registro</th>
        <th scope="col">Nome</th>
        <th scope="col">Tipo de Exame</th>
        <th scope="col">Registro do Médico</th>
        <th scope="col">Médico Responsável</th>
      </tr>
    <tbody class="text-center" id="table-body">
    </tbody>
  </table>
  <script>
    const fragment = new DocumentFragment();

    fetch('http://localhost:3000/tests')
      .then((response) => response.json())
      .then((data) => {
        data.forEach(function(test) { 
          const tr = document.createElement('tr');

          const registrationNumber = document.createElement('td');
          registrationNumber.textContent = `${test.registration_number}`
          const name = document.createElement('td');
          name.textContent = `${test.name}`
          const examType = document.createElement('td');
          examType.textContent = `${test.exam_type}`
          const doctorRegistration = document.createElement('td');
          doctorRegistration.textContent = `${test.doctor_registration}`
          const doctorName = document.createElement('td');
          doctorName.textContent = `${test.doctor_name}`

          tr.appendChild(registrationNumber);
          tr.appendChild(name);
          tr.appendChild(examType);
          tr.appendChild(doctorRegistration);
          tr.appendChild(doctorName);

          fragment.appendChild(tr);
      })
    })
    .then(() => {
      document.querySelector('#table-body').appendChild(fragment);
    })
    .catch(function(error) {
      console.log(error)
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
